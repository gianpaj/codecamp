---
import { Image } from 'astro:assets';
import { getLangFromUrl, useTranslations } from '@i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

import Layout from '@layouts/Base.astro';
import Countdown from '@components/Countdown';
import { languages } from '@i18n/i18n.config';

import Gianfranco from '@images/gianfranco.jpg';

export const getStaticPaths = () =>
  Object.keys(languages).map((lang) => ({
    params: { lang },
  }));
---

<Layout title={t('free-class.seoTitle')}>
  <main class="max-w-screen-md lg:max-w-screen-lg">
    <h1
      class="text-gradient my-10 whitespace-break-spaces text-center text-4xl font-bold leading-tight sm:mt-20 sm:text-5xl sm:leading-relaxed sm:tracking-tight"
      set:html={t('free-class.title')}
    />
    <Image
      src={Gianfranco}
      alt="Gianfranco"
      class="mx-auto h-40 w-40 rounded-full border-8 border-gray-200 dark:border-gray-400"
      loading="eager"
      format="avif"
      width={540}
    />
    <Countdown client:only="react" />

    <div class="mt-4 text-center text-lg">
      <p class="">
        📍 {t('free-class.usp1')}
      </p>
      <p class="">
        ⏰ {t('free-class.ups2')}
      </p>
      <p class="">
        💰 {t('free-class.usp3')}
      </p>
    </div>

    <div class="my-10 text-center">
      <a class="cta-button" href="https://cal.com/gianpaj/free-class">
        {t('free-class.buttonText')}
      </a>
    </div>

    <h1
      class="text-gradient my-10 whitespace-break-spaces text-center text-3xl font-bold leading-tight sm:my-20 sm:text-4xl sm:leading-relaxed sm:tracking-tight"
    >
      {t('free-class.what-you-ll-learn')}
    </h1>
    <div class="grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3">
      <div class="card">
        <p class="emoji">💻</p>
        <p>{t('free-class.cards.text1')}</p>
      </div>

      <div class="card">
        <p class="emoji">📈</p>
        <p>{t('free-class.cards.text2')}</p>
      </div>

      <div class="card">
        <p class="emoji">👩‍💼</p>
        <p>{t('free-class.cards.text3')}</p>
      </div>

      <div class="card">
        <p class="emoji">👩‍💻</p>
        <p>{t('free-class.cards.text4')}</p>
      </div>

      <div class="card">
        <p class="emoji">❓</p>
        <p>{t('free-class.cards.text5')}</p>
      </div>

      <div class="card">
        <p class="emoji">🛑</p>
        <p>{t('free-class.cards.text6')}</p>
      </div>
    </div>
  </main>
</Layout>
<style is:global>
  .separator {
    @apply float-left p-2 text-3xl sm:p-3 sm:text-4xl;
  }
  .countdown-item {
    text-align: center;
    .digit {
      @apply rounded-lg p-1 text-4xl leading-[3rem] sm:p-2 sm:text-5xl;
    }
    .unit {
      @apply mt-1 text-xs uppercase sm:mt-4 sm:text-sm;
    }
  }
</style>
<style scoped>
  main {
    margin: auto;
    padding: 1.5rem;
  }
  .card {
    @apply flex flex-col items-center justify-center rounded-lg border border-gray-200 p-4 text-center shadow-md;

    .emoji {
      @apply text-5xl leading-[4.25rem];
    }

    p:not(.emoji) {
      @apply mt-4 text-base sm:text-sm;
    }
  }
</style>
