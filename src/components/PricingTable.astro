---
import PricingFeature from "./PricingFeature.astro";

import "./PricingTable.css";

const plans = [
  {
    title: "One on one",
    price: 39,
    priceDescription: "/hour",
    link: "https://cal.com/escuela",
    buttonText: "Enquire",
    features: [
      {
        title: "Online",
        isAvailable: true,
      },
      {
        title: "In person (in Malaga)",
        isAvailable: true,
      },
      {
        title: "1h 30m sessions",
        isAvailable: true,
      },
    ],
  },
  {
    title: "Group class",
    price: 340,
    priceDescription: "/course \n (â‚¬85 per week)",
    link: "https://maven.com/escuela-dev/web-hybrid-malaga",
    buttonText: "Enroll",
    features: [
      {
        title: "Online",
        isAvailable: false,
      },
      {
        title: "In person (in Malaga)",
        isAvailable: true,
      },
      {
        title: "1h 30m sessions",
        isAvailable: true,
      },
      {
        title: "up to 4 people",
        isAvailable: true,
      },
      {
        title: "4-week course",
        isAvailable: true,
      },
    ],
  },
  {
    title: "2-day Workshop",
    priceDescription: "Custom pricing",
    link: "gianfranco@escuela.dev",
    buttonText: "Contact us",
    features: [
      {
        title: "Online",
        isAvailable: false,
      },
      {
        title: "In person (in Malaga)",
        isAvailable: true,
      },
      {
        title: "From 10am to 5pm",
        isAvailable: true,
      },
      {
        title: "Lunch included",
        isAvailable: true,
      },
    ],
  },
];
---

<div class="mx-auto max-w-screen-xl px-4 py-8 font-sans lg:px-6 lg:py-16">
  <div class="grid space-y-8 sm:gap-6 md:grid-cols-2 lg:grid-cols-3 lg:space-y-0 xl:gap-10">
    {plans.map((plan) => (
      <div
        key={plan.title}
        class="plan-item z-10 w-full max-w-sm rounded-lg border border-gray-200 bg-white p-4 shadow dark:border-gray-700 dark:bg-gray-800 sm:p-8"
      >
        <h5 class="mb-4 text-xl font-medium text-gray-500 dark:text-gray-400">
          {plan.title}
        </h5>
        <div
          class="sm:h-[100px] mb-4 sm:mb-0 flex items-baseline text-gray-900 dark:text-white"
        >
          <span class="whitespace-pre-line text-3xl font-semibold">
            {plan.price ? (
              <>&euro;</>
            ) : (
              plan.priceDescription && <>{plan.priceDescription}</>
            )}
          </span>
          <span class="text-5xl font-extrabold tracking-tight">
            {plan.price}
          </span>
          {plan.price && plan.priceDescription && (
            <span class="text-l ml-1 whitespace-pre-line font-normal text-gray-500 dark:text-gray-400 sm:text-xl">
              {plan.priceDescription}
            </span>
          )}
        </div>
        <a
          href={plan.link.includes("@") ? `mailto:${plan.link}` : plan.link}
          class="button gradient-border dark:text-white"
        >
          {plan.buttonText}
        </a>
        {/* {renderFeatures(plan.features)} */}
        <PricingFeature
          features={plan.features} />
      </div>
    ))}
  </div>
</div>
