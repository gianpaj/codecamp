---
import { getLangFromUrl, useTranslations } from "@i18n/utils";
import Hr from "./Hr.astro";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const currentYear = new Date().getFullYear();

export interface Props {
  githubEditUrl?: string;
}

const { githubEditUrl } = Astro.props;
---

<footer>
  <div class="mb-5">
    <Hr noPadding />
  </div>
  <ul
    class="my-6 flex flex-col items-center justify-center gap-5 text-sm sm:flex-row"
  >
    <li>
      <a
        href="https://instagram.com/escuela.dev"
        target="_blank"
        class="flex items-center gap-2 opacity-60 transition-opacity hover:opacity-100"
      >
        <svg
          width="1em"
          height="1em"
          viewBox="0 0 24 24"
          class=""
          data-icon="instagram"
        >
          <g
            fill="none"
            stroke="currentColor"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="1.5"
            color="currentColor"
            ><path
              d="M2.5 12c0-4.478 0-6.718 1.391-8.109S7.521 2.5 12 2.5c4.478 0 6.718 0 8.109 1.391S21.5 7.521 21.5 12c0 4.478 0 6.718-1.391 8.109S16.479 21.5 12 21.5c-4.478 0-6.718 0-8.109-1.391S2.5 16.479 2.5 12"
            ></path><path
              d="M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0m1.008-5.5h-.01"
            ></path></g
          >
        </svg>
        <p>Instagram</p>
      </a>
    </li>
    <li>
      <a
        href="https://x.com/escuela_dev_"
        target="_blank"
        class="flex items-center gap-2 opacity-60 transition-opacity hover:opacity-100"
      >
        <svg
          width="25"
          height="25"
          viewBox="0 0 1200 1227"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
          role="none"
        >
          <path
            d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"
          ></path>
        </svg>
        <p>Twitter</p>
      </a>
    </li>
    <li>
      <a
        href="https://linkedin.com/company/escuela-dev"
        target="_blank"
        class="flex items-center gap-2 opacity-60 transition-opacity hover:opacity-100"
      >
        <svg
          width="25"
          height="25"
          viewBox="0 0 24 24"
          data-icon="mdi:linkedin"
        >
          <symbol id="ai:mdi:linkedin"
            ><path
              fill="currentColor"
              d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"
            ></path></symbol
          ><use xlink:href="#ai:mdi:linkedin"></use>
        </svg>
        <p>LinkedIn</p>
      </a>
    </li>
  </ul>

  <p class="text-sm opacity-60">
    &copy; {currentYear}
    {t("footer.copyright")}
  </p>
  <ul>
    {
      githubEditUrl && (
        <div class="mt-3">
          <a
            class="edit-on-github header-link w-100 depth-2 inline-flex opacity-60"
            href={githubEditUrl}
            target="_blank"
          >
            <svg
              aria-hidden="true"
              focusable="false"
              data-prefix="fas"
              data-icon="pen"
              class="opacity-60"
              role="img"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              height="1em"
              width="1em"
            >
              <path
                fill="currentColor"
                d="M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"
              />
            </svg>
            <span class="text-xs">{t("footer.edit")}</span>
          </a>
        </div>
      )
    }
  </ul>
  <style>
    footer {
      @apply w-full;
      padding: 25px;
      text-align: center;
    }
    svg {
      width: 13px;
      height: 13px;
    }
    a.header-link {
      gap: 0.5em;
      font: inherit;
      padding-top: 0.4rem;
      padding-bottom: 0.4rem;
      color: var(--theme-text-lighter);
      unicode-bidi: plaintext;
    }
  </style>
</footer>
